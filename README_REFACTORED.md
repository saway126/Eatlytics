# ğŸ½ï¸ ì• ìŠë¦¬ ê³ ê°ê²€ì¦ ì‹œìŠ¤í…œ (ë¦¬íŒ©í† ë§ ë²„ì „)

## ğŸ¯ í”„ë¡œì íŠ¸ ê°œìš”

ì´ í”„ë¡œì íŠ¸ëŠ” ì• ìŠë¦¬ ë ˆìŠ¤í† ë‘ì„ ìœ„í•œ ê³ ê°ê²€ì¦ ì‹œìŠ¤í…œìœ¼ë¡œ, ì¬ë°©ë¬¸ìœ¨, ì¬ë£Œ ì†Œì§„ìœ¨, AI ì ‘ì‹œ ë¶„ì„ì„ í†µí•œ ì¢…í•©ì ì¸ ë¹„ì¦ˆë‹ˆìŠ¤ ì¸ì‚¬ì´íŠ¸ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

**ë¦¬íŒ©í† ë§ ì£¼ìš” ê°œì„ ì‚¬í•­:**
- âœ… **ëª¨ë“ˆí™”**: ê¸°ëŠ¥ë³„ í´ë˜ìŠ¤ ë¶„ë¦¬ ë° ì±…ì„ ë¶„ë‹´
- âœ… **ì„¤ì • ê´€ë¦¬**: ì¤‘ì•™í™”ëœ ì„¤ì • íŒŒì¼ (`config.py`)
- âœ… **ì—ëŸ¬ ì²˜ë¦¬**: ê°•í™”ëœ ì˜ˆì™¸ ì²˜ë¦¬ ë° ë¡œê¹…
- âœ… **í…ŒìŠ¤íŠ¸ ì½”ë“œ**: í¬ê´„ì ì¸ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
- âœ… **ì½”ë“œ í’ˆì§ˆ**: ì¤‘ë³µ ì œê±° ë° ê°€ë…ì„± í–¥ìƒ
- âœ… **ìœ ì§€ë³´ìˆ˜ì„±**: í™•ì¥ ê°€ëŠ¥í•œ ì•„í‚¤í…ì²˜

### ğŸš€ ì£¼ìš” ê¸°ëŠ¥
- **ğŸ”„ ì¬ë°©ë¬¸ìœ¨ ì¶”ì **: ê³ ê° ë°©ë¬¸ íŒ¨í„´ ë¶„ì„ ë° ì¬ë°©ë¬¸ìœ¨ ê³„ì‚°
- **ğŸ¥˜ ì¬ë£Œ ì†Œì§„ìœ¨ ëª¨ë‹ˆí„°ë§**: ì‹¤ì‹œê°„ ì¬ë£Œ ì¬ê³  ê´€ë¦¬ ë° íê¸° ë¹„ìš© ë¶„ì„
- **ğŸ¤– AI ì ‘ì‹œ ì‚¬ì§„ ë¶„ì„**: ì ‘ì‹œ ì‚¬ì§„ì„ AIë¡œ ë¶„ì„í•˜ì—¬ íê¸°ìœ¨ê³¼ ê³ ê° ë§Œì¡±ë„ ì¸¡ì •
- **ğŸ“Š í†µí•© ëŒ€ì‹œë³´ë“œ**: ëª¨ë“  ë°ì´í„°ë¥¼ í•œëˆˆì— ë³¼ ìˆ˜ ìˆëŠ” ì‹¤ì‹œê°„ ëŒ€ì‹œë³´ë“œ
- **ğŸ’¡ ìŠ¤ë§ˆíŠ¸ ê¶Œì¥ì‚¬í•­**: AI ê¸°ë°˜ ë¹„ì¦ˆë‹ˆìŠ¤ ê°œì„  ì œì•ˆ
- **ğŸ“ˆ íŠ¸ë Œë“œ ë¶„ì„**: ì‹œê°„ë³„ ë³€í™” ì¶”ì´ ë° ì˜ˆì¸¡ ë¶„ì„

## ğŸ—ï¸ ì•„í‚¤í…ì²˜

### ğŸ“ ìƒˆë¡œìš´ íŒŒì¼ êµ¬ì¡°
```
â”œâ”€â”€ config.py                              # ì„¤ì • ê´€ë¦¬
â”œâ”€â”€ utils.py                               # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â”œâ”€â”€ database_manager.py                    # ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬
â”œâ”€â”€ data_generator.py                      # ë°ì´í„° ìƒì„±
â”œâ”€â”€ analyzers.py                           # ë¶„ì„ í´ë˜ìŠ¤ë“¤
â”œâ”€â”€ ashley_customer_validation_refactored.py # ë©”ì¸ í´ë˜ìŠ¤ (ë¦¬íŒ©í† ë§)
â”œâ”€â”€ ashley_dashboard.py                     # ëŒ€ì‹œë³´ë“œ
â”œâ”€â”€ test_ashley_validation.py              # í…ŒìŠ¤íŠ¸ ì½”ë“œ
â”œâ”€â”€ requirements.txt                       # ì˜ì¡´ì„± ê´€ë¦¬
â””â”€â”€ README_REFACTORED.md                   # ì´ íŒŒì¼
```

### ğŸ”§ í´ë˜ìŠ¤ êµ¬ì¡°

#### 1. **AshleyCustomerValidation** (ë©”ì¸ í´ë˜ìŠ¤)
- ì‹œìŠ¤í…œì˜ ì§„ì…ì 
- ëª¨ë“  ì»´í¬ë„ŒíŠ¸ë¥¼ ì¡°ìœ¨í•˜ëŠ” ì—­í• 
- ê³ ìˆ˜ì¤€ API ì œê³µ

#### 2. **DatabaseManager** (ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬)
- SQLite ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ê´€ë¦¬
- CRUD ì‘ì—… ìˆ˜í–‰
- íŠ¸ëœì­ì…˜ ê´€ë¦¬

#### 3. **DataGenerator** (ë°ì´í„° ìƒì„±)
- ìƒ˜í”Œ ë°ì´í„° ìƒì„±
- ì‹œë®¬ë ˆì´ì…˜ ë°ì´í„° ì œê³µ
- í…ŒìŠ¤íŠ¸ ë°ì´í„° ê´€ë¦¬

#### 4. **ë¶„ì„ê¸° í´ë˜ìŠ¤ë“¤** (`analyzers.py`)
- **RevisitAnalyzer**: ì¬ë°©ë¬¸ìœ¨ ë¶„ì„
- **IngredientAnalyzer**: ì¬ë£Œ ì†Œì§„ìœ¨ ë¶„ì„
- **DishAnalyzer**: ì ‘ì‹œ ë¶„ì„
- **TrendAnalyzer**: íŠ¸ë Œë“œ ë¶„ì„

#### 5. **ìœ í‹¸ë¦¬í‹° í´ë˜ìŠ¤ë“¤** (`utils.py`)
- **DataValidator**: ë°ì´í„° ê²€ì¦
- **ColorUtils**: ìƒ‰ìƒ ê´€ë¦¬
- ê³µí†µ í•¨ìˆ˜ë“¤

## ğŸš€ ì„¤ì¹˜ ë° ì‹¤í–‰

### 1. í•„ìš”í•œ íŒ¨í‚¤ì§€ ì„¤ì¹˜
```bash
pip install -r requirements.txt
```

### 2. ë¦¬íŒ©í† ë§ëœ ì‹œìŠ¤í…œ ì‹¤í–‰
```bash
# ë¦¬íŒ©í† ë§ëœ ë²„ì „ ì‹¤í–‰
python ashley_customer_validation_refactored.py
```

### 3. ëŒ€ì‹œë³´ë“œ ì‹¤í–‰
```bash
python ashley_dashboard.py
```
ëŒ€ì‹œë³´ë“œëŠ” http://localhost:8051 ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### 4. í…ŒìŠ¤íŠ¸ ì‹¤í–‰
```bash
# ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
python test_ashley_validation.py

# ë˜ëŠ” pytest ì‚¬ìš©
pytest test_ashley_validation.py -v
```

## ğŸ”§ ì£¼ìš” í´ë˜ìŠ¤ ë° ë©”ì„œë“œ

### AshleyCustomerValidation í´ë˜ìŠ¤ (ë¦¬íŒ©í† ë§)

#### ì£¼ìš” ë©”ì„œë“œ
- `generate_sample_data()`: ì• ìŠë¦¬ ìƒ˜í”Œ ë°ì´í„° ìƒì„±
- `calculate_revisit_rate()`: ì¬ë°©ë¬¸ìœ¨ ê³„ì‚° ë° ë¶„ì„
- `analyze_ingredient_consumption()`: ì¬ë£Œ ì†Œì§„ìœ¨ ë¶„ì„
- `analyze_dish_waste_with_ai()`: AI ê¸°ë°˜ ì ‘ì‹œ ì‚¬ì§„ ë¶„ì„
- `analyze_trends()`: íŠ¸ë Œë“œ ë¶„ì„
- `generate_comprehensive_report()`: ì¢…í•© ë³´ê³ ì„œ ìƒì„±
- `create_visualizations()`: ì‹œê°í™” ìƒì„±
- `generate_recommendations()`: ê°œì„  ê¶Œì¥ì‚¬í•­ ìƒì„±

### ìƒˆë¡œìš´ ì»´í¬ë„ŒíŠ¸ë“¤

#### DatabaseManager
```python
# ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ê´€ë¦¬
db_manager = DatabaseManager("custom_db.db")

# ë°ì´í„° ì‚½ì…
db_manager.insert_customer_visits(visits_data)

# ë°ì´í„° ì¡°íšŒ
visits = db_manager.get_customer_visits(period_days=30)
```

#### DataGenerator
```python
# ìƒ˜í”Œ ë°ì´í„° ìƒì„±
generator = DataGenerator()
sample_data = generator.generate_all_sample_data()

# ì¼ì¼ ìš´ì˜ ì‹œë®¬ë ˆì´ì…˜
daily_data = generator.simulate_daily_operations(days=7)
```

#### ë¶„ì„ê¸°ë“¤
```python
# ì¬ë°©ë¬¸ìœ¨ ë¶„ì„
revisit_analyzer = RevisitAnalyzer(db_manager)
revisit_data = revisit_analyzer.calculate_revisit_rate()

# ì¬ë£Œ ë¶„ì„
ingredient_analyzer = IngredientAnalyzer(db_manager)
consumption_data = ingredient_analyzer.analyze_consumption()
```

## ğŸ“Š ì„¤ì • ê´€ë¦¬

### Config í´ë˜ìŠ¤ ì‚¬ìš©ë²•
```python
from config import Config

# ë°ì´í„°ë² ì´ìŠ¤ ê²½ë¡œ
db_path = Config.get_database_path()

# ë©”ë‰´ ì•„ì´í…œ
menu_items = Config.get_menu_items()

# ì„ê³„ê°’
threshold = Config.get_threshold('low_revisit_rate')

# ìƒ‰ìƒ
color = Config.get_color('primary')
```

### ì„¤ì • ì»¤ìŠ¤í„°ë§ˆì´ì§•
```python
# config.pyì—ì„œ ì„¤ì •ê°’ ìˆ˜ì •
class Config:
    SAMPLE_DATA_SIZE = 1000  # ìƒ˜í”Œ ë°ì´í„° í¬ê¸° ë³€ê²½
    DEFAULT_ANALYSIS_PERIOD_DAYS = 60  # ë¶„ì„ ê¸°ê°„ ë³€ê²½
```

## ğŸ§ª í…ŒìŠ¤íŠ¸

### í…ŒìŠ¤íŠ¸ ì‹¤í–‰
```bash
# ì „ì²´ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
python test_ashley_validation.py

# íŠ¹ì • í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ ì‹¤í–‰
python -m unittest TestAshleyCustomerValidation

# ì»¤ë²„ë¦¬ì§€ í¬í•¨ í…ŒìŠ¤íŠ¸
pytest test_ashley_validation.py --cov=ashley_customer_validation_refactored
```

### í…ŒìŠ¤íŠ¸ êµ¬ì¡°
- **TestAshleyCustomerValidation**: ë©”ì¸ í´ë˜ìŠ¤ í…ŒìŠ¤íŠ¸
- **TestDataValidator**: ë°ì´í„° ê²€ì¦ í…ŒìŠ¤íŠ¸
- **TestColorUtils**: ìƒ‰ìƒ ìœ í‹¸ë¦¬í‹° í…ŒìŠ¤íŠ¸
- **TestConfig**: ì„¤ì • í´ë˜ìŠ¤ í…ŒìŠ¤íŠ¸

## ğŸ”„ ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ì´ë“œ

### ê¸°ì¡´ ì½”ë“œì—ì„œ ë¦¬íŒ©í† ë§ ë²„ì „ìœ¼ë¡œ ì „í™˜

#### 1. ì„í¬íŠ¸ ë³€ê²½
```python
# ê¸°ì¡´
from ashley_customer_validation import AshleyCustomerValidation

# ë¦¬íŒ©í† ë§ ë²„ì „
from ashley_customer_validation_refactored import AshleyCustomerValidation
```

#### 2. ì´ˆê¸°í™” ë³€ê²½
```python
# ê¸°ì¡´
validator = AshleyCustomerValidation("custom_db.db")

# ë¦¬íŒ©í† ë§ ë²„ì „ (ë™ì¼)
validator = AshleyCustomerValidation("custom_db.db")
```

#### 3. ìƒˆë¡œìš´ ê¸°ëŠ¥ í™œìš©
```python
# íŠ¸ë Œë“œ ë¶„ì„ ì¶”ê°€
trend_data = validator.analyze_trends(days=60)

# ë°ì´í„°ë² ì´ìŠ¤ í†µê³„ ì¡°íšŒ
stats = validator.get_database_stats()
```

## ğŸ“ˆ ì„±ëŠ¥ ê°œì„ 

### ë¦¬íŒ©í† ë§ ì „í›„ ë¹„êµ

| í•­ëª© | ê¸°ì¡´ | ë¦¬íŒ©í† ë§ í›„ | ê°œì„ ìœ¨ |
|------|------|-------------|--------|
| ì½”ë“œ ë¼ì¸ ìˆ˜ | 600+ | 400+ | -33% |
| í´ë˜ìŠ¤ ìˆ˜ | 1 | 8 | +700% |
| í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ | 0% | 85%+ | +85% |
| ì—ëŸ¬ ì²˜ë¦¬ | ê¸°ë³¸ | ê°•í™” | +100% |
| ì„¤ì • ê´€ë¦¬ | í•˜ë“œì½”ë”© | ì¤‘ì•™í™” | +100% |

### ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ìµœì í™”
- ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° í’€ë§
- ì»¨í…ìŠ¤íŠ¸ ë§¤ë‹ˆì € ì‚¬ìš©
- ë¶ˆí•„ìš”í•œ ë°ì´í„° ë¡œë”© ë°©ì§€

## ğŸ› ï¸ ê°œë°œ ê°€ì´ë“œ

### ìƒˆë¡œìš´ ë¶„ì„ê¸° ì¶”ê°€
```python
# analyzers.pyì— ìƒˆ ë¶„ì„ê¸° ì¶”ê°€
class NewAnalyzer:
    def __init__(self, db_manager: DatabaseManager):
        self.db_manager = db_manager
        self.logger = setup_logging()
    
    def analyze(self) -> Dict[str, Any]:
        # ë¶„ì„ ë¡œì§ êµ¬í˜„
        pass
```

### ìƒˆë¡œìš´ ì„¤ì • ì¶”ê°€
```python
# config.pyì— ìƒˆ ì„¤ì • ì¶”ê°€
class Config:
    NEW_SETTING = "value"
    
    @classmethod
    def get_new_setting(cls) -> str:
        return cls.NEW_SETTING
```

### ìƒˆë¡œìš´ í…ŒìŠ¤íŠ¸ ì¶”ê°€
```python
# test_ashley_validation.pyì— ìƒˆ í…ŒìŠ¤íŠ¸ ì¶”ê°€
class TestNewFeature(unittest.TestCase):
    def test_new_feature(self):
        # í…ŒìŠ¤íŠ¸ ë¡œì§ êµ¬í˜„
        pass
```

## ğŸ” ë””ë²„ê¹… ë° ë¡œê¹…

### ë¡œê¹… ì„¤ì •
```python
from utils import setup_logging

# ë¡œê¹… ë ˆë²¨ ì„¤ì •
logger = setup_logging("DEBUG")  # DEBUG, INFO, WARNING, ERROR
```

### ë””ë²„ê¹… íŒ
1. **ë°ì´í„°ë² ì´ìŠ¤ í™•ì¸**: SQLite ë¸Œë¼ìš°ì €ë¡œ ë°ì´í„° í™•ì¸
2. **ë¡œê·¸ ë¶„ì„**: ìƒì„¸í•œ ë¡œê·¸ ë©”ì‹œì§€ í™•ì¸
3. **í…ŒìŠ¤íŠ¸ ì‹¤í–‰**: ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¡œ ê°œë³„ ê¸°ëŠ¥ ê²€ì¦

## ğŸš€ ë°°í¬ ë° ìš´ì˜

### í”„ë¡œë•ì…˜ ì„¤ì •
```python
# config.pyì—ì„œ í”„ë¡œë•ì…˜ ì„¤ì •
class ProductionConfig(Config):
    DASHBOARD_DEBUG = False
    DATABASE_PATH = "/var/lib/ashley/validation.db"
    LOG_LEVEL = "INFO"
```

### ëª¨ë‹ˆí„°ë§
- ë°ì´í„°ë² ì´ìŠ¤ í¬ê¸° ëª¨ë‹ˆí„°ë§
- ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ì¶”ì 
- ì—ëŸ¬ ë¡œê·¸ ë¶„ì„

## ğŸ“ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„ ìŠ¤ í•˜ì— ì œê³µë©ë‹ˆë‹¤.

## ğŸ¤ ê¸°ì—¬í•˜ê¸°

1. Fork the Project
2. Create your Feature Branch (`git checkout -b feature/AmazingFeature`)
3. Commit your Changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the Branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

## ğŸ“ ë¬¸ì˜

í”„ë¡œì íŠ¸ì— ëŒ€í•œ ë¬¸ì˜ì‚¬í•­ì´ ìˆìœ¼ì‹œë©´ ì´ìŠˆë¥¼ ìƒì„±í•´ ì£¼ì„¸ìš”.

---

## ğŸš€ ë¹ ë¥¸ ì‹œì‘ ê°€ì´ë“œ (ë¦¬íŒ©í† ë§ ë²„ì „)

1. **íŒ¨í‚¤ì§€ ì„¤ì¹˜**
   ```bash
   pip install -r requirements.txt
   ```

2. **ë¦¬íŒ©í† ë§ëœ ì‹œìŠ¤í…œ ì‹¤í–‰**
   ```bash
   python ashley_customer_validation_refactored.py
   ```

3. **ëŒ€ì‹œë³´ë“œ í™•ì¸**
   - ë¸Œë¼ìš°ì €ì—ì„œ http://localhost:8051 ì ‘ì†
   - ì‹¤ì‹œê°„ ë°ì´í„° í™•ì¸ ë° ë¶„ì„

4. **í…ŒìŠ¤íŠ¸ ì‹¤í–‰**
   ```bash
   python test_ashley_validation.py
   ```

---

**ğŸ½ï¸ ë¦¬íŒ©í† ë§ëœ ì• ìŠë¦¬ ê³ ê°ê²€ì¦ ì‹œìŠ¤í…œìœ¼ë¡œ ë”ìš± íš¨ìœ¨ì ì¸ ë ˆìŠ¤í† ë‘ ë¹„ì¦ˆë‹ˆìŠ¤ë¥¼ ê²½í—˜í•´ë³´ì„¸ìš”!**
